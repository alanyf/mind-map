
  <!-- 引入Monaco编辑器的样式 -->
  <!-- <link rel="stylesheet" href="https://unpkg.com/monaco-editor@0.23.0/min/vs/editor/editor.main.css"> -->
  <!-- 引入Monaco编辑器的脚本 -->
  <!-- <script src="https://unpkg.com/monaco-editor@0.23.0/min/vs/loader.js"></script> -->
  <script src="//lowcode-alanyf.netlify.app/lowcode/assets/js/less@4.js" ></script>
  <script>
    (async () => {
      const loadMonacoCdnFile = () => {
        let loadCount = 0;
        return new Promise((resolve) => {
          const handleLoad = () => {
            loadCount ++;
            if (loadCount === 1) {
              resolve();
            }
          };
          const cssTag = document.createElement('link');
          cssTag.rel = 'stylesheet';
          cssTag.href = '//unpkg.com/monaco-editor@0.23.0/min/vs/editor/editor.main.css';
          // cssTag.onload = handleLoad;
          const scriptTag = document.createElement('script');
          scriptTag.src = '//unpkg.com/monaco-editor@0.23.0/min/vs/loader.js';
          scriptTag.onload = handleLoad;

          document.head.appendChild(cssTag);
          document.head.appendChild(scriptTag);
        });
      };

      // 预览环境不需要
      if (!location.href.includes('mode=preview')) {
        // 在物料加载完成后再加载monaco编辑器
        window.onAllComponentsLoad = async () => {
          await loadMonacoCdnFile();
          // 使用Monaco编辑器之前需要加载必要的脚本
          require.config({ paths: { 'vs': '//unpkg.com/monaco-editor@0.23.0/min/vs' }});
          require(['vs/editor/editor.main'], function() {
            // // 防止加载umd物料出错
            // if (window.define.amd) {
            //   window.define.amd = undefined;
            // }
          });
        };
      }
    })()

  </script>
